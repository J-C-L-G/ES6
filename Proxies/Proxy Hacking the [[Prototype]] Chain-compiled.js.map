{"version":3,"sources":["Proxy Hacking the [[Prototype]] Chain.js"],"names":[],"mappings":";;;;;;AAIA,IAAI,WAAW;AACP,sBAAI,QAAQ,KAAK,SAAS;AACtB,YAAI,QAAQ,GAAR,CAAY,MAAZ,EAAoB,GAApB,CAAJ,EAA8B;AAC1B,mBAAO,QAAQ,GAAR,CACH,MADG,EACK,GADL,EACU,OADV,CAAP,CAD0B;;;AAA9B,aAMK;AACD,uBAAO,QAAQ,GAAR,CACH,OAAO,OAAO,GAAP,CAAW,eAAX,CAAP,CADG,EAEH,GAFG,EAGH,OAHG,CAAP,CADC;aANL;KAFG;CAAX;IAiBA,OAAO,IAAI,KAAJ,CACH;AACI,UAAM,OAAN;AACA,wBAAM;AACF,gBAAQ,GAAR,CAAY,MAAZ,EAAoB,KAAK,IAAL,CAApB,CADE;KAFV;CADG,EAOH,QAPG,CAAP;IASA,OAAO,OAAO,MAAP,CACH,OAAO,MAAP,CAAc,IAAd,CADG,EAEH;AACI,UAAM,OAAN;AACA,wBAAM;AACF,gBAAQ,GAAR,CAAY,MAAZ,EAAoB,KAAK,IAAL,CAApB,CADE;AAEF,aAAK,GAAL,GAFE;KAFV;CAFG,CAAP;;;AAYJ,KAAK,OAAO,GAAP,CAAW,eAAX,CAAL,IAAoC,IAApC;AACA,KAAK,GAAL;;;AAGA,KAAK,GAAL","file":"Proxy Hacking the [[Prototype]] Chain-compiled.js","sourcesContent":["/**\r\n * Created by JCLG on 4/6/2016.\r\n */\r\n\r\nvar handlers = {\r\n        get(target, key, context) {\r\n            if (Reflect.has(target, key)) {\r\n                return Reflect.get(\r\n                    target, key, context\r\n                );\r\n            }\r\n            // fake circular `[[Prototype]]`\r\n            else {\r\n                return Reflect.get(\r\n                    target[Symbol.for(\"[[Prototype]]\")],\r\n                    key,\r\n                    context\r\n                );\r\n            }\r\n        }\r\n    },\r\n    obj1 = new Proxy(\r\n        {\r\n            name: \"obj-1\",\r\n            foo() {\r\n                console.log(\"foo:\", this.name);\r\n            }\r\n        },\r\n        handlers\r\n    ),\r\n    obj2 = Object.assign(\r\n        Object.create(obj1),\r\n        {\r\n            name: \"obj-2\",\r\n            bar() {\r\n                console.log(\"bar:\", this.name);\r\n                this.foo();\r\n            }\r\n        }\r\n    );\r\n\r\n// fake circular `[[Prototype]]` link\r\nobj1[Symbol.for(\"[[Prototype]]\")] = obj2;\r\nobj1.bar();\r\n// bar: obj-1 <-- through proxy faking [[Prototype]]\r\n// foo: obj-1 <-- `this` context still preserved\r\nobj2.foo();\r\n// foo: obj-2 <-- through [[Prototype]]"]}