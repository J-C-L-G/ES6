{"version":3,"sources":["Generator + Promise.js"],"names":[],"mappings":";;eAIU;;;;;;AAAV,SAAU,IAAV;QACa,OAKA,OAKA,QAKA,QAKA,QAKA,OAKL;;;;;AALK,6CAAQ;AACb,gCAAQ,GAAR,CAAY,QAAZ,EADa;AAEb,+BAAO,CAAP,CAFa;;;AALR,+CAAS;AACd,gCAAQ,GAAR,CAAY,SAAZ,EADc;AAEd,+BAAO,EAAP,CAFc;;;AALT,+CAAS;AACd,gCAAQ,GAAR,CAAY,SAAZ,EADc;AAEd,+BAAO,EAAP,CAFc;;;AALT,+CAAS;AACd,gCAAQ,GAAR,CAAY,SAAZ,EADc;AAEd,+BAAO,EAAP,CAFc;;;AALT,6CAAQ;AACb,gCAAQ,GAAR,CAAY,QAAZ,EADa;AAEb,+BAAO,CAAP,CAFa;;;AALR,6CAAQ;AACb,gCAAQ,GAAR,CAAY,QAAZ,EADa;AAEb,+BAAO,CAAP,CAFa;;;;2BA8BD;;;AAAZ;;;2BAEY,MAAM,GAAN;;;AAAZ;;;;;;;;AAGA,4BAAQ,GAAR;;;;2BAEQ,QAAQ,GAAR,CAAY,CACpB,OAAO,GAAP,CADoB,EAEpB,OAAO,GAAP,CAFoB,EAGpB,OAAO,GAAP,CAHoB,CAAZ;;;AAAZ;;2BAKM,MAAM,GAAN;;;;;;;;CA3CV;;AA8CA,SAAS,GAAT,CAAa,GAAb,EAAkB;AACd,QAAI,OAAO,GAAG,KAAH,CAAS,IAAT,CAAc,SAAd,EAAyB,CAAzB,CAAP;QAAoC,EAAxC,CADc;AAEd,SAAK,IAAI,KAAJ,CAAU,IAAV,EAAgB,IAAhB,CAAL,CAFc;AAGd,WAAO,QAAQ,OAAR,GACF,IADE,CACG,SAAS,UAAT,CAAoB,KAApB,EAA2B;AAC7B,YAAI,OAAO,GAAG,IAAH,CAAQ,KAAR,CAAP,CADyB;AAE7B,gBAAQ,GAAR,CAAY,KAAZ,EAF6B;AAG7B,gBAAQ,GAAR,CAAY,IAAZ,EAH6B;AAI7B,eAAO,SAAU,YAAT,CAAsB,IAAtB,EAA4B;AAChC,gBAAI,KAAK,IAAL,EAAW;AACX,uBAAO,KAAK,KAAL,CADI;aAAf,MAGK;AACD,uBAAO,QAAQ,OAAR,CAAgB,KAAK,KAAL,CAAhB,CACF,IADE,CAEH,UAFG,EAGH,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACpB,2BAAO,QAAQ,OAAR,CACH,GAAG,KAAH,CAAS,GAAT,CADG,EAGF,IAHE,CAGG,YAHH,CAAP,CADoB;iBAAxB,CAHJ,CADC;aAHL;SADI,CAgBL,IAhBI,CAAP,CAJ6B;KAA3B,CADV,CAHc;CAAlB;;AA4BA,IAAI,IAAJ,EACK,IADL,CAEI,SAAS,SAAT,GAAqB;AACjB,YAAQ,GAAR,CAAY,WAAZ,EADiB;CAArB,EAGA,SAAS,QAAT,CAAkB,MAAlB,EAA0B;AACtB,YAAQ,GAAR,CAAY,MAAZ,EADsB;CAA1B,CALJ","file":"Generator + Promise-compiled.js","sourcesContent":["/**\r\n * Created by JCLG on 4/1/2016.\r\n */\r\n\r\nfunction *main() {\r\n    function step1() {\r\n        console.log('step 1');\r\n        return 1;\r\n    }\r\n\r\n    function step2() {\r\n        console.log('step 2');\r\n        return 2;\r\n    }\r\n\r\n    function step3a() {\r\n        console.log('step 3a');\r\n        return 31;\r\n    }\r\n\r\n    function step3b() {\r\n        console.log('step 3b');\r\n        return 32;\r\n    }\r\n\r\n    function step3c() {\r\n        console.log('step 3c');\r\n        return 33;\r\n    }\r\n\r\n    function step4() {\r\n        console.log('step 4');\r\n        return 4;\r\n    }\r\n\r\n    var ret = yield step1();\r\n    try {\r\n        ret = yield step2(ret);\r\n    }\r\n    catch (err) {\r\n        console.log(err);\r\n    }\r\n    ret = yield Promise.all([\r\n        step3a(ret),\r\n        step3b(ret),\r\n        step3c(ret)\r\n    ]);\r\n    yield step4(ret);\r\n}\r\n\r\nfunction run(gen) {\r\n    var args = [].slice.call(arguments, 1), it;\r\n    it = gen.apply(this, args);\r\n    return Promise.resolve()\r\n        .then(function handleNext(value) {\r\n            var next = it.next(value);\r\n            console.log(value);\r\n            console.log(next);\r\n            return (function handleResult(next) {\r\n                if (next.done) {\r\n                    return next.value;\r\n                }\r\n                else {\r\n                    return Promise.resolve(next.value)\r\n                        .then(\r\n                        handleNext,\r\n                        function handleErr(err) {\r\n                            return Promise.resolve(\r\n                                it.throw(err)\r\n                            )\r\n                                .then(handleResult);\r\n                        }\r\n                    );\r\n                }\r\n            })(next);\r\n        });\r\n}\r\n\r\nrun(main)\r\n    .then(\r\n    function fulfilled() {\r\n        console.log('completed');\r\n    },\r\n    function rejected(reason) {\r\n        console.log(reason);\r\n    }\r\n);"]}